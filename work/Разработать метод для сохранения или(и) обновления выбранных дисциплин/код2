// восстановление при загрузке
document.addEventListener('DOMContentLoaded', () => {
  const selected = getSelectedSubjects();
  selected.forEach(id => {
    const checkbox = document.querySelector(`input[type="checkbox"][data-id="${id}"]`);
    if (checkbox) checkbox.checked = true;
  });
});

// обработчик клика по чекбоксу
document.addEventListener('change', (e) => {
  if (e.target.matches('input[type="checkbox"][data-id]')) {
    const id = e.target.getAttribute('data-id');
    toggleSubject(id);
  }
});
