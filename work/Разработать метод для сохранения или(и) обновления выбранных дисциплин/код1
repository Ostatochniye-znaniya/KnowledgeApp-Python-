const STORAGE_KEY = 'selectedSubjects';

// получить текущий список из localStorage
function getSelectedSubjects() {
  const raw = localStorage.getItem(STORAGE_KEY); // читает строку
  return raw ? JSON.parse(raw) : [];            // парсим массив id
}

// сохранить список в localStorage
function setSelectedSubjects(ids) {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(ids)); // сохраняем как строку
}

// основной метод: переключить дисциплину (добавить/удалить)
function toggleSubject(subjectId) {
  const selected = getSelectedSubjects();
  const index = selected.indexOf(subjectId);

  if (index === -1) {
    selected.push(subjectId);     // ещё не было — добавляем
  } else {
    selected.splice(index, 1);    // была — удаляем
  }

  setSelectedSubjects(selected);  // обновляем localStorage
}
